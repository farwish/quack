(function(e){function n(n){for(var r,a,u=n[0],c=n[1],s=n[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(n);while(d.length)d.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={"bex-init":0},i=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var f=c;i.push([1,"vendor"]),t()})({1:function(e,n,t){e.exports=t("1a7c")},"1a7c":function(e,n,t){"use strict";t.r(n);t("8e6e"),t("8a81");var r=t("c47a"),o=t.n(r),i=t("4db1"),a=t.n(i),u=(t("551c"),t("fc74")),c=t.n(u),s=t("59a1"),f=t.n(s),l=t("6430"),d=t.n(l),p=t("ffe3"),h=t.n(p),v=t("37d9"),y=t.n(v),b=t("8993"),g=t.n(b),m=(t("ac6a"),t("cadf"),t("06db"),t("456d"),t("ae36")),O=t("1732");function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j={undefined:function(){return 0},boolean:function(){return 4},number:function(){return 8},string:function(e){return 2*e.length},object:function(e){return e?Object.keys(e).reduce((function(n,t){return x(t)+x(e[t])+n}),0):0}},x=function(e){return j[g()(e)](e)},P=function(e){function n(e){var t;return c()(this,n),t=d()(this,h()(n).call(this)),t.setMaxListeners(1/0),t.wall=e,e.listen((function(e){Array.isArray(e)?e.forEach((function(e){return t._emit(e)})):t._emit(e)})),t._sendingQueue=[],t._sending=!1,t._maxMessageSize=33554432,t}return y()(n,e),f()(n,[{key:"send",value:function(e,n){return this._send([{event:e,payload:n}])}},{key:"getEvents",value:function(){return this._events}},{key:"_emit",value:function(e){"string"===typeof e?this.emit(e):this.emit(e.event,e.payload)}},{key:"_send",value:function(e){return this._sendingQueue.push(e),this._nextSend()}},{key:"_nextSend",value:function(){var e=this;if(!this._sendingQueue.length||this._sending)return Promise.resolve();this._sending=!0;var n=this._sendingQueue.shift(),t=n[0],r="".concat(t.event,".").concat(Object(O["a"])()),o=r+".result";return new Promise((function(r,i){var u=[],c=function n(t){if(void 0!==t&&t._chunkSplit){var i=t._chunkSplit;u=[].concat(a()(u),a()(t.data)),i.lastChunk&&(e.off(o,n),r(u))}else e.off(o,n),r(t)};e.on(o,c);try{var s=n.map((function(e){return w({},e,{},{payload:{data:e.payload,eventResponseKey:o}})}));e.wall.send(s)}catch(b){var f="Message length exceeded maximum allowed length.";if(b.message===f)if(Array.isArray(t.payload)){var l=x(t);if(l>e._maxMessageSize)for(var d=Math.ceil(l/e._maxMessageSize),p=Math.ceil(t.payload.length/d),h=t.payload,v=0;v<d;v++){var y=Math.min(h.length,p);e.wall.send([{event:t.event,payload:{_chunkSplit:{count:d,lastChunk:v===d-1},data:h.splice(0,y)}}])}}else 0}e._sending=!1,requestAnimationFrame((function(){return e._nextSend()}))}))}}]),n}(m["EventEmitter"]);function S(){var e=function(e,n){var t=chrome.runtime.connect({name:"app:"+e}),r=!1;t.onDisconnect.addListener((function(){r=!0}));var o=new P({listen:function(e){t.onMessage.addListener(e)},send:function(e){r||t.postMessage(e)}});n(o)},n=function(n){var t=chrome.devtools?chrome.devtools.inspectedWindow.tabId:Object(O["a"])();e(t,n)};window.QBexInit({connect:function(t){chrome.tabs&&!chrome.devtools?chrome.tabs.getCurrent((function(r){r&&r.id?e(r.id,t):n(t)})):n(t)},onReload:function(e){window.addEventListener("beforeunload",e)}})}chrome.runtime.id&&setTimeout((function(){S()}),300)}});